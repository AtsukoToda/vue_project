{"remainingRequest":"/Users/atsukotoda/Desktop/curry_pj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atsukotoda/Desktop/curry_pj/src/views/OrderHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atsukotoda/Desktop/curry_pj/src/views/OrderHistory.vue","mtime":1630041841219},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGhlYWRlcnM6WwogICAgICAgICAgICAgICAge3RleHQ6JycsdmFsdWU6J2ltZycsc29ydGFibGU6ZmFsc2V9LAogICAgICAgICAgICAgICAge3RleHQ6J+WVhuWTgeWQjScsdmFsdWU6J25hbWUnfSwKICAgICAgICAgICAgICAgIHt0ZXh0OifkvqHmoLwo56iO5oqcKScsdmFsdWU6J3ByaWNlJ30sCiAgICAgICAgICAgICAgICB7dGV4dDon5pWw6YePJyx2YWx1ZTonbnVtJ30sCiAgICAgICAgICAgICAgICB7dGV4dDon5bCP6KiIJyx2YWx1ZTonc3VtJ30sCiAgICAgICAgICAgICAgICB7dmFsdWU6J2RlbGV0ZScsc29ydGFibGU6ZmFsc2V9LAogICAgICAgICAgICBdLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgY2hhbmdlRmxhZygpewogICAgICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcmVkSXRlbXMubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvcmRlcmVkSXRlbXNJbmZvKCl7CiAgICAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyZWRJdGVtcyl7CiAgICAgICAgICAgICAgICBsZXQgaXRlbURhdGEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5pdGVtRGF0YTsKICAgICAgICAgICAgICAgIGxldCBvcmRlcmVkaXRlbXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcmVkSXRlbXM7CiAgICAgICAgICAgICAgICBsZXQgYXJyYXkgPSBbXQogICAgICAgICAgICAgICAgb3JkZXJlZGl0ZW1zLmZvckVhY2goKG9yZGVyKT0+ewogICAgICAgICAgICAgICAgICAgIG9yZGVyLml0ZW1JbmZvLmZvckVhY2goKGluZm8pPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1EYXRhLmZvckVhY2goKGl0ZW0pPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmZvLml0ZW1JZD09aXRlbS5pZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5udW0gPSBpbmZvLml0ZW1OdW0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9yZGVySWQgPSBpbmZvLmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdW0gPSBpdGVtLm51bSAqIGl0ZW0ucHJpY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IEpTT04ucGFyc2UoYSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["OrderHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderHistory.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<v-container  class=\"my-50\" justify-center>\n    <h1>注文履歴</h1>\n    <h3 v-if=\"changeFlag\" style=\"font-weight:bold;\">注文履歴はありません</h3>\n    <div v-else>\n    <v-data-table\n        :headers=\"headers\"\n        :items=\"orderedItemsInfo\"\n        :items-per-page=\"5\"\n        item-key=\"orderedId\"\n        class=\"elevation-1\"\n        disable-sort\n        >\n            <template v-slot:[`item.price`]=\"{ item }\">\n                <td>{{item.price}}円</td>\n            </template>\n            <template v-slot:[`item.number`]=\"{ item }\">\n                <td>{{item.itemNum}}個</td>\n            </template>\n            <template v-slot:[`item.img`]=\"{ item }\">\n                <img :src=\"item.img\" width=\"100px\" height=\"100px\">\n            </template>\n            <template v-slot:[`item.sum`]=\"{ item }\">\n                <td>{{item.sum}}円</td>\n            </template>\n        </v-data-table>\n        </div>\n  </v-container>\n<!-- </v-container> -->\n</template>\n<script>\nexport default {\n    data(){\n        return{\n            headers:[\n                {text:'',value:'img',sortable:false},\n                {text:'商品名',value:'name'},\n                {text:'価格(税抜)',value:'price'},\n                {text:'数量',value:'num'},\n                {text:'小計',value:'sum'},\n                {value:'delete',sortable:false},\n            ],\n        }\n    },\n    computed:{\n        changeFlag(){\n            if(this.$store.state.orderedItems.length === 0){\n                return true\n            }else {\n                return false\n            }\n        },\n        orderedItemsInfo(){\n            if(this.$store.state.orderedItems){\n                let itemData = this.$store.state.itemData;\n                let ordereditems = this.$store.state.orderedItems;\n                let array = []\n                ordereditems.forEach((order)=>{\n                    order.itemInfo.forEach((info)=>{\n                        itemData.forEach((item)=>{\n                            if(info.itemId==item.id){\n                                item.num = info.itemNum\n                                item.orderId = info.id\n                                item.sum = item.num * item.price\n                                let a = JSON.stringify(item)\n                                a = JSON.parse(a)\n                                array.push(a)\n                            }\n                        })\n                    })\n                })\n                return array;\n            }else{\n                return [];\n            }\n        },\n    }\n}\n</script>\n"]}]}