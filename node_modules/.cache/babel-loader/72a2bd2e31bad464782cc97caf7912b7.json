{"remainingRequest":"/Users/atsukotoda/Desktop/curry_pj/node_modules/babel-loader/lib/index.js!/Users/atsukotoda/Desktop/curry_pj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/atsukotoda/Desktop/curry_pj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atsukotoda/Desktop/curry_pj/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atsukotoda/Desktop/curry_pj/src/views/Cart.vue","mtime":1630041841217},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atsukotoda/Desktop/curry_pj/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2F0c3Vrb3RvZGEvRGVza3RvcC9jdXJyeV9wai9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBPcmRlciBmcm9tICdAL2NvbXBvbmVudHMvT3JkZXIudnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgT3JkZXI6IE9yZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAnJywKICAgICAgICB2YWx1ZTogJ2ltZycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5ZWG5ZOB5ZCNJywKICAgICAgICB2YWx1ZTogJ25hbWUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5L6h5qC8KOeojuaKnCknLAogICAgICAgIHZhbHVlOiAncHJpY2UnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5pWw6YePJywKICAgICAgICB2YWx1ZTogJ251bWJlcicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICflsI/oqIgnLAogICAgICAgIHZhbHVlOiAnc3VtJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdkZWxldGUnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgdGF4OiAwLjEsCiAgICAgIHNob3c6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2FydEl0ZW1zOiBmdW5jdGlvbiBjYXJ0SXRlbXMoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0SXRlbXMpIHsKICAgICAgICB2YXIgaXRlbURhdGEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5pdGVtRGF0YTsKICAgICAgICB2YXIgY2FydEl0ZW1zID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydEl0ZW1zOwogICAgICAgIHZhciBpdGVtSW5mbyA9IGNhcnRJdGVtcy5pdGVtSW5mbzsKICAgICAgICB2YXIgYXJyYXkgPSBbXTsKICAgICAgICBpdGVtSW5mby5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtSW4pIHsKICAgICAgICAgIGl0ZW1EYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW1EKSB7CiAgICAgICAgICAgIGlmIChpdGVtSW4uaXRlbUlkID09IGl0ZW1ELmlkKSB7CiAgICAgICAgICAgICAgaXRlbUQuaXRlbU51bSA9IGl0ZW1Jbi5pdGVtTnVtOwogICAgICAgICAgICAgIGl0ZW1ELmNhcnRJZCA9IGl0ZW1Jbi5pZDsKICAgICAgICAgICAgICB2YXIgYSA9IEpTT04uc3RyaW5naWZ5KGl0ZW1EKTsKICAgICAgICAgICAgICBhID0gSlNPTi5wYXJzZShhKTsKICAgICAgICAgICAgICBhcnJheS5wdXNoKGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBjYXJ0TGVuZ3RoOiBmdW5jdGlvbiBjYXJ0TGVuZ3RoKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY2FydEl0ZW1zKSB7CiAgICAgICAgdmFyIGNhcnRJdGVtcyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRJdGVtczsKCiAgICAgICAgaWYgKGNhcnRJdGVtcy5pdGVtSW5mby5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHByaWNlU3VtOiBmdW5jdGlvbiBwcmljZVN1bSgpIHsKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIHRoaXMuY2FydEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBzdW0gKz0gaXRlbS5wcmljZSAqIGl0ZW0uaXRlbU51bTsKICAgICAgfSk7CiAgICAgIHJldHVybiBzdW07CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgbG9naW5DaGVjazogZnVuY3Rpb24gbG9naW5DaGVjaygpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMudWlkKSB7CiAgICAgICAgdGhpcy5zaG93ID0gIXRoaXMuc2hvdzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgIH0KICAgIH0KICB9LCBtYXBBY3Rpb25zKFsnZGVsZXRlSXRlbUZyb21DYXJ0J10pKSwge30sIHsKICAgIGRlbGV0ZUNvbmZpcm06IGZ1bmN0aW9uIGRlbGV0ZUNvbmZpcm0oY2FydElkKSB7CiAgICAgIGlmIChjb25maXJtKCfliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ8nKSkgdGhpcy5kZWxldGVJdGVtRnJvbUNhcnQoewogICAgICAgIGNhcnRJZDogY2FydElkCiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<v-container>\n    <h1 v-if=\"show\" id=\"cart\">ショッピングカート</h1>\n    <h1 v-else>注文内容確認</h1>\n    <div v-if=\"cartLength\">\n        <v-row>\n            <v-col>\n                <v-data-table\n                :headers=\"headers\"\n                :items=\"cartItems\"\n                :items-per-page=\"5\"\n                item-key=\"cartId\"\n                class=\"elevation-1\"\n                disable-sort\n                >\n                    <template v-slot:[`item.price`]=\"{ item }\">\n                        <td>{{item.price.toLocaleString('ja-JP')}}円</td>\n                    </template>\n                    <template v-slot:[`item.number`]=\"{ item }\">\n                        <td>{{item.itemNum}}個</td>\n                    </template>\n                    <template v-slot:[`item.img`]=\"{ item }\">\n                        <img :src=\"item.img\" width=\"100px\" height=\"100px\">\n                    </template>\n                    <template v-slot:[`item.sum`]=\"{ item }\">\n                        <td>{{(item.price*item.itemNum).toLocaleString('ja-JP')}}円</td>\n                    </template>\n                    <template v-slot:[`item.delete`]=\"{ item }\">\n                        <v-btn v-if=\"show\" @click=\"deleteConfirm(item.cartId)\" color=\"error\" rounded><strong>削除</strong></v-btn>\n                    </template>\n                </v-data-table>\n            </v-col>\n        </v-row>\n        <v-row class=\"ma-2\">\n            <v-col align=\"center\">\n                <h2>消費税：{{(priceSum*tax).toLocaleString('ja-JP')}}円</h2>\n                <h2>ご注文金額合計：{{(Math.floor(priceSum+(priceSum*tax)).toLocaleString('ja-JP'))}}円(税込)</h2>\n                <v-btn v-if=\"show\" color=\"orange\" dark @click=\"loginCheck()\" rounded href=\"#orderForm\">注文に進む</v-btn>\n                <v-btn v-if=\"!show\" @click=\"show=!show\" rounded>カートに戻る</v-btn>\n            </v-col>\n        </v-row>\n        <div id=\"orderForm\">\n        <Order v-show=\"!show\"/>\n        </div>\n    </div>\n    <div v-else>\n        <h3>商品はありません</h3>\n    </div>\n</v-container>\n</template>\n<script>\nimport Order from '@/components/Order.vue'\nimport {mapActions} from 'vuex'\nexport default {\n    components:{\n        Order\n    },\n    data(){\n        return {\n            headers:[\n                {text:'',value:'img',sortable:false},\n                {text:'商品名',value:'name'},\n                {text:'価格(税抜)',value:'price'},\n                {text:'数量',value:'number'},\n                {text:'小計',value:'sum'},\n                {value:'delete',sortable:false},\n            ],\n            tax:0.1,\n            show:true\n        }\n    },\n    computed:{\n        cartItems(){\n            if(this.$store.state.cartItems){\n                let itemData = this.$store.state.itemData;\n                let cartItems = this.$store.state.cartItems;\n                let itemInfo = cartItems.itemInfo;\n                let array = [];\n                itemInfo.forEach((itemIn)=>{\n                    itemData.forEach((itemD)=>{\n                        if(itemIn.itemId==itemD.id){\n                            itemD.itemNum = itemIn.itemNum\n                            itemD.cartId = itemIn.id\n                            let a = JSON.stringify(itemD)\n                            a = JSON.parse(a)\n                            array.push(a)\n                        }\n                    })\n                })\n                return array\n            }else {\n                return null\n            }\n        },\n        cartLength(){\n            if(this.$store.state.cartItems){\n                let cartItems = this.$store.state.cartItems\n                if(cartItems.itemInfo.length===0){\n                    return false\n                }else{\n                    return true\n                }\n            }else{\n                return false\n            }\n        },\n        priceSum(){\n            let sum=0;\n            this.cartItems.forEach((item)=>{\n                sum += item.price*item.itemNum;\n            })\n            return sum\n        }\n    },\n    methods:{\n        loginCheck(){\n            if(this.$store.getters.uid){\n                this.show = !this.show\n            }else{\n                this.$router.push('/login')\n            }\n        },\n        ...mapActions(['deleteItemFromCart']),\n        deleteConfirm(cartId){\n            if(confirm('削除してもよろしいですか？'))\n            this.deleteItemFromCart({cartId:cartId})\n        },\n    }\n}\n</script>"],"sourceRoot":"src/views"}]}